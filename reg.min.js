$(function(){var t,e=$("#name"),l=$("#name-msg"),n=$("#phone"),a=$("#phone-msg"),c=$("#pwd"),u=$("#pwd-msg"),o=$("#code"),s=$("#code-msg"),f=$("#codetx"),i=$("#register"),m=60;function r(t){if(""!==t.val()){if(/^(?![0-9]+$)[0-9a-zA-Z_\u4e00-\u9fa5]+$/.test(t.val()))return l.html(""),1;l.html("用户名仅支持中英文、数字和下划线,且不能为纯数字")}else l.html("用户名不能为空")}function h(t){if(""!==t.val()){if(/^1[3|4|5|7|8|9][0-9]{9}$/.test(t.val()))return a.html(""),1;a.html("手机号格式不正确")}else a.html("手机号不能为空")}function v(t){if(""!==t.val()){if(/(?!^[0-9]+$)(?!^[a-zA-Z]+$)(?!^[^a-zA-Z0-9]+$)^[^\s\u4e00-\u9fa5]{8,14}$/.test(t.val()))return u.html(""),1;u.html("密码设置不符合要求")}else u.html("密码不能为空")}e.focus(),i.click(function(){r(e)&&h(n)&&v(c)&&(""!==o.val()?(f.html(""),1):(s.html("请求超时，请稍后再试"),0))&&(alert("注册成功"),f.val("获取验证码"),clearInterval(t))}),e.focusout(function(){r(e)||e.select()}),n.focusout(function(){h(n)||n.select()}),c.focusout(function(){v(c)||c.select()}),f.click(function(){h(n)&&(t=setInterval(function(){0==--m?(clearInterval(t),s.html("请求超时，请稍后再试"),f.val("获取验证码"),f.removeAttr("disabled"),m=5):(f.attr("disabled","true"),s.html(""),f.val("重发验证("+m+"s)"))},1e3))})});